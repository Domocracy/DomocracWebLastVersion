document.documentElement.className='js';var analyticsFileTypes=[''];var analyticsSnippet='disabled';var analyticsEventTracking='enabled';var addComment={moveForm:function(a,b,c,d){var e,f=this,g=f.I(a),h=f.I(c),i=f.I("cancel-comment-reply-link"),j=f.I("comment_parent"),k=f.I("comment_post_ID");if(g&&h&&i&&j){f.respondId=c,d=d||!1,f.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",h.parentNode.insertBefore(e,h)),g.parentNode.insertBefore(h,g.nextSibling),k&&d&&(k.value=d),j.value=b,i.style.display="",i.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{f.I("comment").focus()}catch(l){}return!1}},I:function(a){return document.getElementById(a)}};try{jQuery.noConflict();}catch(e){};
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);
/*!
* FitVids 1.0
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function($){"use strict";$.fn.fitVids=function(options){var settings={customSelector:null};if(!document.getElementById('fit-vids-style')){var div=document.createElement('div'),ref=document.getElementsByTagName('base')[0]||document.getElementsByTagName('script')[0];div.className='fit-vids-style';div.id='fit-vids-style';div.style.display='none';div.innerHTML='&shy;<style>         \
  .fluid-width-video-wrapper {        \
     width: 100%;                     \
     position: relative;              \
     padding: 0;                      \
  }                                   \
           \
  .fluid-width-video-wrapper iframe,  \
  .fluid-width-video-wrapper object,  \
  .fluid-width-video-wrapper embed {  \
     position: absolute;              \
     top: 0;                          \
     left: 0;                         \
     width: 100%;                     \
     height: 100%;                    \
  }                                   \
   </style>';ref.parentNode.insertBefore(div,ref);}
if(options){$.extend(settings,options);}
return this.each(function(){var selectors=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(settings.customSelector){selectors.push(settings.customSelector);}
var $allVideos=$(this).find(selectors.join(','));$allVideos=$allVideos.not("object object");$allVideos.each(function(){var $this=$(this);if(this.tagName.toLowerCase()==='embed'&&$this.parent('object').length||$this.parent('.fluid-width-video-wrapper').length){return;}
var height=(this.tagName.toLowerCase()==='object'||($this.attr('height')&&!isNaN(parseInt($this.attr('height'),10))))?parseInt($this.attr('height'),10):$this.height(),width=!isNaN(parseInt($this.attr('width'),10))?parseInt($this.attr('width'),10):$this.width(),aspectRatio=height/width;if(!$this.attr('id')){var videoID='fitvid'+Math.floor(Math.random()*999999);$this.attr('id',videoID);}
$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent('.fluid-width-video-wrapper').css('padding-top',(aspectRatio*100)+"%");$this.removeAttr('height').removeAttr('width');});});};})(jQuery);(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);
/*! Magnific Popup - v0.9.9 - 2013-12-27
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2013 Dmitry Semenov; */
;(function($){var CLOSE_EVENT='Close',BEFORE_CLOSE_EVENT='BeforeClose',AFTER_CLOSE_EVENT='AfterClose',BEFORE_APPEND_EVENT='BeforeAppend',MARKUP_PARSE_EVENT='MarkupParse',OPEN_EVENT='Open',CHANGE_EVENT='Change',NS='mfp',EVENT_NS='.'+NS,READY_CLASS='mfp-ready',REMOVING_CLASS='mfp-removing',PREVENT_CLOSE_CLASS='mfp-prevent-close';var mfp,MagnificPopup=function(){},_isJQ=!!(window.jQuery),_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f);},_getEl=function(className,appendTo,html,raw){var el=document.createElement('div');el.className='mfp-'+className;if(html){el.innerHTML=html;}
if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo);}}else if(appendTo){appendTo.appendChild(el);}
return el;},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data]);}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace('%title%',mfp.st.tClose));_currPopupType=type;}
return mfp.currTemplate.closeBtn;},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup();mfp.init();$.magnificPopup.instance=mfp;}},supportsTransitions=function(){var s=document.createElement('p').style,v=['ms','O','Moz','Webkit'];if(s['transition']!==undefined){return true;}
while(v.length){if(v.pop()+'Transition'in s){return true;}}
return false;};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isIE7=appVersion.indexOf("MSIE 7.")!==-1;mfp.isIE8=appVersion.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=(/android/gi).test(appVersion);mfp.isIOS=(/iphone|ipad|ipod/gi).test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=(mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));_document=$(document);mfp.popupsCache={};},open:function(data){if(!_body){_body=$(document.body);}
var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0];}
if(item===data.el[0]){mfp.index=i;break;}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0;}
if(mfp.isOpen){mfp.updateItemHTML();return;}
mfp.types=[];_wrapClasses='';if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0);}else{mfp.ev=_document;}
if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={};}
mfp.currTemplate=mfp.popupsCache[data.key];}else{mfp.currTemplate={};}
mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==='auto'?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false;}
if(!mfp.bgOverlay){mfp.bgOverlay=_getEl('bg').on('click'+EVENT_NS,function(){mfp.close();});mfp.wrap=_getEl('wrap').attr('tabindex',-1).on('click'+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close();}});mfp.container=_getEl('container',mfp.wrap);}
mfp.contentContainer=_getEl('content');if(mfp.st.preloader){mfp.preloader=_getEl('preloader',mfp.container,mfp.st.tLoading);}
var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp['init'+n].call(mfp);}
_mfpTrigger('BeforeOpen');if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn());}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type);});_wrapClasses+=' mfp-close-btn-in';}}
if(mfp.st.alignTop){_wrapClasses+=' mfp-align-top';}
if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:'hidden',overflowY:mfp.st.overflowY});}else{mfp.wrap.css({top:_window.scrollTop(),position:'absolute'});}
if(mfp.st.fixedBgPos===false||(mfp.st.fixedBgPos==='auto'&&!mfp.fixedContentPos)){mfp.bgOverlay.css({height:_document.height(),position:'absolute'});}
if(mfp.st.enableEscapeKey){_document.on('keyup'+EVENT_NS,function(e){if(e.keyCode===27){mfp.close();}});}
_window.on('resize'+EVENT_NS,function(){mfp.updateSize();});if(!mfp.st.closeOnContentClick){_wrapClasses+=' mfp-auto-cursor';}
if(_wrapClasses)
mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s;}}}
if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow='hidden';}else{$('body, html').css('overflow','hidden');}}
var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=' mfp-ie7';}
if(classesToadd){mfp._addClassToMFP(classesToadd);}
mfp.updateItemHTML();_mfpTrigger('BuildControls');$('html').css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||_body);mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus();}else{mfp.bgOverlay.addClass(READY_CLASS);}
_document.on('focusin'+EVENT_NS,mfp._onFocusIn);},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data;},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close();},mfp.st.removalDelay);}else{mfp._close();}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+' '+READY_CLASS+' ';mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+' ';}
mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:''};if(mfp.isIE7){$('body, html').css('overflow','');}else{windowStyles.overflow='';}
$('html').css(windowStyles);}
_document.off('keyup'+EVENT_NS+' focusin'+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr('class','mfp-wrap').removeAttr('style');mfp.bgOverlay.attr('class','mfp-bg');mfp.container.attr('class','mfp-container');if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)
mfp.currTemplate.closeBtn.detach();}
if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus();}
mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT);},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css('height',height);mfp.wH=height;}else{mfp.wH=winHeight||_window.height();}
if(!mfp.fixedContentPos){mfp.wrap.css('height',mfp.wH);}
_mfpTrigger('Resize');},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)
mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index);}
var type=item.type;_mfpTrigger('BeforeChange',[mfp.currItem?mfp.currItem.type:'',type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger('FirstMarkupParse',markup);if(markup){mfp.currTemplate[type]=$(markup);}else{mfp.currTemplate[type]=true;}}
if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass('mfp-'+_prevContentType+'-holder');}
var newContent=mfp['get'+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger('AfterChange');},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find('.mfp-close').length){mfp.content.append(_getCloseBtn());}}else{mfp.content=newContent;}}else{mfp.content='';}
_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass('mfp-'+type+'-holder');mfp.contentContainer.append(mfp.content);},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)};}else{type=item.type;item={data:item,src:item.src};}
if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass('mfp-'+types[i])){type=types[i];break;}}
item.src=item.el.attr('data-mfp-src');if(!item.src){item.src=item.el.attr('href');}}
item.type=type||mfp.st.type||'inline';item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger('ElementParse',item);return mfp.items[index];},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options);};if(!options){options={};}
var eName='click.magnificPopup';options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler);}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler);}else{options.items=el;el.off(eName).on(eName,eHandler);}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey)){return;}
var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true;}}else{if(_window.width()<disableOn){return true;}}}
if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation();}}
options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate);}
mfp.open(options);},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass('mfp-s-'+_prevStatus);}
if(!text&&status==='loading'){text=mfp.st.tLoading;}
var data={status:status,text:text};_mfpTrigger('UpdateStatus',data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find('a').on('click',function(e){e.stopImmediatePropagation();});mfp.container.addClass('mfp-s-'+status);_prevStatus=status;}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return;}
var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true;}else{if(!mfp.content||$(target).hasClass('mfp-close')||(mfp.preloader&&target===mfp.preloader[0])){return true;}
if((target!==mfp.content[0]&&!$.contains(mfp.content[0],target))){if(closeOnBg){if($.contains(document,target)){return true;}}}else if(closeOnContent){return true;}}
return false;},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName);},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName);},_hasScrollBar:function(winHeight){return((mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height()));},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus();},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false;}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values);}
_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true;}
arr=key.split('_');if(arr.length>1){var el=template.find(EVENT_NS+'-'+arr[0]);if(el.length>0){var attr=arr[1];if(attr==='replaceWith'){if(el[0]!==value[0]){el.replaceWith(value);}}else if(attr==='img'){if(el.is('img')){el.attr('src',value);}else{el.replaceWith('<img src="'+value+'" class="'+el.attr('class')+'" />');}}else{el.attr(arr[1],value);}}}else{template.find(EVENT_NS+'-'+key).html(value);}});},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.id="mfp-sbm";scrollDiv.style.cssText='width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);}
return mfp.scrollbarSize;}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={};}else{options=$.extend(true,{},options);}
options.isObj=true;options.index=index||0;return this.instance.open(options);},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close();},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options;}
$.extend(this.proto,module.proto);this.modules.push(name);},defaults:{disableOn:0,key:null,midClick:false,mainClass:'',preloader:true,focus:'',closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:'auto',fixedBgPos:'auto',overflowY:'auto',closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:'Close (Esc)',tLoading:'Loading...'}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==='open'){var items,itemOpts=_isJQ?jqEl.data('magnificPopup'):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index];}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate);}
items=items.eq(index);}
mfp._openClick({mfpEl:items},jqEl,itemOpts);}else{if(mfp.isOpen)
mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1));}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data('magnificPopup',options);}else{jqEl[0].magnificPopup=options;}
mfp.addGroup(jqEl,options);}
return jqEl;};var INLINE_NS='inline',_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null;}};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:'hide',markup:'',tNotFound:'Content not found'},proto:{initInline:function(){mfp.types.push(INLINE_NS);_mfpOn(CLOSE_EVENT+'.'+INLINE_NS,function(){_putInlineElementsBack();});},getInline:function(item,template){_putInlineElementsBack();if(item.src){var inlineSt=mfp.st.inline,el=$(item.src);if(el.length){var parent=el[0].parentNode;if(parent&&parent.tagName){if(!_inlinePlaceholder){_hiddenClass=inlineSt.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass='mfp-'+_hiddenClass;}
_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);}
mfp.updateStatus('ready');}else{mfp.updateStatus('error',inlineSt.tNotFound);el=$('<div>');}
item.inlineElement=el;return el;}
mfp.updateStatus('ready');mfp._parseMarkup(template,{},item);return template;}}});var AJAX_NS='ajax',_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){_body.removeClass(_ajaxCur);}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(mfp.req){mfp.req.abort();}};$.magnificPopup.registerModule(AJAX_NS,{options:{settings:null,cursor:'mfp-ajax-cur',tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){mfp.types.push(AJAX_NS);_ajaxCur=mfp.st.ajax.cursor;_mfpOn(CLOSE_EVENT+'.'+AJAX_NS,_destroyAjaxRequest);_mfpOn('BeforeChange.'+AJAX_NS,_destroyAjaxRequest);},getAjax:function(item){if(_ajaxCur)
_body.addClass(_ajaxCur);mfp.updateStatus('loading');var opts=$.extend({url:item.src,success:function(data,textStatus,jqXHR){var temp={data:data,xhr:jqXHR};_mfpTrigger('ParseAjax',temp);mfp.appendContent($(temp.data),AJAX_NS);item.finished=true;_removeAjaxCursor();mfp._setFocus();setTimeout(function(){mfp.wrap.addClass(READY_CLASS);},16);mfp.updateStatus('ready');_mfpTrigger('AjaxContentAdded');},error:function(){_removeAjaxCursor();item.finished=item.loadError=true;mfp.updateStatus('error',mfp.st.ajax.tError.replace('%url%',item.src));}},mfp.st.ajax.settings);mfp.req=$.ajax(opts);return'';}}});var _imgInterval,_getTitle=function(item){if(item.data&&item.data.title!==undefined)
return item.data.title;var src=mfp.st.image.titleSrc;if(src){if($.isFunction(src)){return src.call(mfp,item);}else if(item.el){return item.el.attr(src)||'';}}
return'';};$.magnificPopup.registerModule('image',{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+'<figure>'+'<div class="mfp-img"></div>'+'<figcaption>'+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+'</div>'+'</figcaption>'+'</figure>'+'</div>',cursor:'mfp-zoom-out-cur',titleSrc:'title',verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var imgSt=mfp.st.image,ns='.image';mfp.types.push('image');_mfpOn(OPEN_EVENT+ns,function(){if(mfp.currItem.type==='image'&&imgSt.cursor){_body.addClass(imgSt.cursor);}});_mfpOn(CLOSE_EVENT+ns,function(){if(imgSt.cursor){_body.removeClass(imgSt.cursor);}
_window.off('resize'+EVENT_NS);});_mfpOn('Resize'+ns,mfp.resizeImage);if(mfp.isLowIE){_mfpOn('AfterChange',mfp.resizeImage);}},resizeImage:function(){var item=mfp.currItem;if(!item||!item.img)return;if(mfp.st.image.verticalFit){var decr=0;if(mfp.isLowIE){decr=parseInt(item.img.css('padding-top'),10)+parseInt(item.img.css('padding-bottom'),10);}
item.img.css('max-height',mfp.wH-decr);}},_onImageHasSize:function(item){if(item.img){item.hasSize=true;if(_imgInterval){clearInterval(_imgInterval);}
item.isCheckingImgSize=false;_mfpTrigger('ImageHasSize',item);if(item.imgHidden){if(mfp.content)
mfp.content.removeClass('mfp-loading');item.imgHidden=false;}}},findImageSize:function(item){var counter=0,img=item.img[0],mfpSetInterval=function(delay){if(_imgInterval){clearInterval(_imgInterval);}
_imgInterval=setInterval(function(){if(img.naturalWidth>0){mfp._onImageHasSize(item);return;}
if(counter>200){clearInterval(_imgInterval);}
counter++;if(counter===3){mfpSetInterval(10);}else if(counter===40){mfpSetInterval(50);}else if(counter===100){mfpSetInterval(500);}},delay);};mfpSetInterval(1);},getImage:function(item,template){var guard=0,onLoadComplete=function(){if(item){if(item.img[0].complete){item.img.off('.mfploader');if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus('ready');}
item.hasSize=true;item.loaded=true;_mfpTrigger('ImageLoadComplete');}
else{guard++;if(guard<200){setTimeout(onLoadComplete,100);}else{onLoadError();}}}},onLoadError=function(){if(item){item.img.off('.mfploader');if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus('error',imgSt.tError.replace('%url%',item.src));}
item.hasSize=true;item.loaded=true;item.loadError=true;}},imgSt=mfp.st.image;var el=template.find('.mfp-img');if(el.length){var img=document.createElement('img');img.className='mfp-img';item.img=$(img).on('load.mfploader',onLoadComplete).on('error.mfploader',onLoadError);img.src=item.src;if(el.is('img')){item.img=item.img.clone();}
img=item.img[0];if(img.naturalWidth>0){item.hasSize=true;}else if(!img.width){item.hasSize=false;}}
mfp._parseMarkup(template,{title:_getTitle(item),img_replaceWith:item.img},item);mfp.resizeImage();if(item.hasSize){if(_imgInterval)clearInterval(_imgInterval);if(item.loadError){template.addClass('mfp-loading');mfp.updateStatus('error',imgSt.tError.replace('%url%',item.src));}else{template.removeClass('mfp-loading');mfp.updateStatus('ready');}
return template;}
mfp.updateStatus('loading');item.loading=true;if(!item.hasSize){item.imgHidden=true;template.addClass('mfp-loading');mfp.findImageSize(item);}
return template;}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement('p').style.MozTransform!==undefined;}
return hasMozTransform;};$.magnificPopup.registerModule('zoom',{options:{enabled:false,easing:'ease-in-out',duration:300,opener:function(element){return element.is('img')?element:element.find('img');}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns='.zoom',image;if(!zoomSt.enabled||!mfp.supportsTransition){return;}
var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),transition='all '+(zoomSt.duration/1000)+'s '+zoomSt.easing,cssObj={position:'fixed',zIndex:9999,left:0,top:0,'-webkit-backface-visibility':'hidden'},t='transition';cssObj['-webkit-'+t]=cssObj['-moz-'+t]=cssObj['-o-'+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg;},showMainContent=function(){mfp.content.css('visibility','visible');},openTimeout,animatedImg;_mfpOn('BuildControls'+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css('visibility','hidden');image=mfp._getItemToZoom();if(!image){showMainContent();return;}
animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger('ZoomAnimationEnded');},16);},duration);},16);}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return;}
animatedImg=getElToAnimate(image);}
animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css('visibility','hidden');setTimeout(function(){animatedImg.css(mfp._getOffset());},16);}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove();}
image=null;}});},_allowZoom:function(){return mfp.currItem.type==='image';},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img;}else{return false;}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img;}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem);}
var offset=el.offset();var paddingTop=parseInt(el.css('padding-top'),10);var paddingBottom=parseInt(el.css('padding-bottom'),10);offset.top-=($(window).scrollTop()-paddingTop);var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj['-moz-transform']=obj['transform']='translate('+offset.left+'px,'+offset.top+'px)';}else{obj.left=offset.left;obj.top=offset.top;}
return obj;}}});var IFRAME_NS='iframe',_emptyPage='//about:blank',_fixIframeBugs=function(isShowing){if(mfp.currTemplate[IFRAME_NS]){var el=mfp.currTemplate[IFRAME_NS].find('iframe');if(el.length){if(!isShowing){el[0].src=_emptyPage;}
if(mfp.isIE8){el.css('display',isShowing?'block':'none');}}}};$.magnificPopup.registerModule(IFRAME_NS,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+'</div>',srcAction:'iframe_src',patterns:{youtube:{index:'youtube.com',id:'v=',src:'//www.youtube.com/embed/%id%?autoplay=1'},vimeo:{index:'vimeo.com/',id:'/',src:'//player.vimeo.com/video/%id%?autoplay=1'},gmaps:{index:'//maps.google.',src:'%id%&output=embed'}}},proto:{initIframe:function(){mfp.types.push(IFRAME_NS);_mfpOn('BeforeChange',function(e,prevType,newType){if(prevType!==newType){if(prevType===IFRAME_NS){_fixIframeBugs();}else if(newType===IFRAME_NS){_fixIframeBugs(true);}}});_mfpOn(CLOSE_EVENT+'.'+IFRAME_NS,function(){_fixIframeBugs();});},getIframe:function(item,template){var embedSrc=item.src;var iframeSt=mfp.st.iframe;$.each(iframeSt.patterns,function(){if(embedSrc.indexOf(this.index)>-1){if(this.id){if(typeof this.id==='string'){embedSrc=embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length,embedSrc.length);}else{embedSrc=this.id.call(this,embedSrc);}}
embedSrc=this.src.replace('%id%',embedSrc);return false;}});var dataObj={};if(iframeSt.srcAction){dataObj[iframeSt.srcAction]=embedSrc;}
mfp._parseMarkup(template,dataObj,item);mfp.updateStatus('ready');return template;}}});var _getLoopedId=function(index){var numSlides=mfp.items.length;if(index>numSlides-1){return index-numSlides;}else if(index<0){return numSlides+index;}
return index;},_replaceCurrTotal=function(text,curr,total){return text.replace(/%curr%/gi,curr+1).replace(/%total%/gi,total);};$.magnificPopup.registerModule('gallery',{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:'Previous (Left arrow key)',tNext:'Next (Right arrow key)',tCounter:'%curr% of %total%'},proto:{initGallery:function(){var gSt=mfp.st.gallery,ns='.mfp-gallery',supportsFastClick=Boolean($.fn.mfpFastClick);mfp.direction=true;if(!gSt||!gSt.enabled)return false;_wrapClasses+=' mfp-gallery';_mfpOn(OPEN_EVENT+ns,function(){if(gSt.navigateByImgClick){mfp.wrap.on('click'+ns,'.mfp-img',function(){if(mfp.items.length>1){mfp.next();return false;}});}
_document.on('keydown'+ns,function(e){if(e.keyCode===37){mfp.prev();}else if(e.keyCode===39){mfp.next();}});});_mfpOn('UpdateStatus'+ns,function(e,data){if(data.text){data.text=_replaceCurrTotal(data.text,mfp.currItem.index,mfp.items.length);}});_mfpOn(MARKUP_PARSE_EVENT+ns,function(e,element,values,item){var l=mfp.items.length;values.counter=l>1?_replaceCurrTotal(gSt.tCounter,item.index,l):'';});_mfpOn('BuildControls'+ns,function(){if(mfp.items.length>1&&gSt.arrows&&!mfp.arrowLeft){var markup=gSt.arrowMarkup,arrowLeft=mfp.arrowLeft=$(markup.replace(/%title%/gi,gSt.tPrev).replace(/%dir%/gi,'left')).addClass(PREVENT_CLOSE_CLASS),arrowRight=mfp.arrowRight=$(markup.replace(/%title%/gi,gSt.tNext).replace(/%dir%/gi,'right')).addClass(PREVENT_CLOSE_CLASS);var eName=supportsFastClick?'mfpFastClick':'click';arrowLeft[eName](function(){mfp.prev();});arrowRight[eName](function(){mfp.next();});if(mfp.isIE7){_getEl('b',arrowLeft[0],false,true);_getEl('a',arrowLeft[0],false,true);_getEl('b',arrowRight[0],false,true);_getEl('a',arrowRight[0],false,true);}
mfp.container.append(arrowLeft.add(arrowRight));}});_mfpOn(CHANGE_EVENT+ns,function(){if(mfp._preloadTimeout)clearTimeout(mfp._preloadTimeout);mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages();mfp._preloadTimeout=null;},16);});_mfpOn(CLOSE_EVENT+ns,function(){_document.off(ns);mfp.wrap.off('click'+ns);if(mfp.arrowLeft&&supportsFastClick){mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick();}
mfp.arrowRight=mfp.arrowLeft=null;});},next:function(){mfp.direction=true;mfp.index=_getLoopedId(mfp.index+1);mfp.updateItemHTML();},prev:function(){mfp.direction=false;mfp.index=_getLoopedId(mfp.index-1);mfp.updateItemHTML();},goTo:function(newIndex){mfp.direction=(newIndex>=mfp.index);mfp.index=newIndex;mfp.updateItemHTML();},preloadNearbyImages:function(){var p=mfp.st.gallery.preload,preloadBefore=Math.min(p[0],mfp.items.length),preloadAfter=Math.min(p[1],mfp.items.length),i;for(i=1;i<=(mfp.direction?preloadAfter:preloadBefore);i++){mfp._preloadItem(mfp.index+i);}
for(i=1;i<=(mfp.direction?preloadBefore:preloadAfter);i++){mfp._preloadItem(mfp.index-i);}},_preloadItem:function(index){index=_getLoopedId(index);if(mfp.items[index].preloaded){return;}
var item=mfp.items[index];if(!item.parsed){item=mfp.parseEl(index);}
_mfpTrigger('LazyLoad',item);if(item.type==='image'){item.img=$('<img class="mfp-img" />').on('load.mfploader',function(){item.hasSize=true;}).on('error.mfploader',function(){item.hasSize=true;item.loadError=true;_mfpTrigger('LazyLoadError',item);}).attr('src',item.src);}
item.preloaded=true;}}});var RETINA_NS='retina';$.magnificPopup.registerModule(RETINA_NS,{options:{replaceSrc:function(item){return item.src.replace(/\.\w+$/,function(m){return'@2x'+m;});},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var st=mfp.st.retina,ratio=st.ratio;ratio=!isNaN(ratio)?ratio:ratio();if(ratio>1){_mfpOn('ImageHasSize'+'.'+RETINA_NS,function(e,item){item.img.css({'max-width':item.img[0].naturalWidth/ratio,'width':'100%'});});_mfpOn('ElementParse'+'.'+RETINA_NS,function(e,item){item.src=st.replaceSrc(item,ratio);});}}}}});(function(){var ghostClickDelay=1000,supportsTouch='ontouchstart'in window,unbindTouchMove=function(){_window.off('touchmove'+ns+' touchend'+ns);},eName='mfpFastClick',ns='.'+eName;$.fn.mfpFastClick=function(callback){return $(this).each(function(){var elem=$(this),lock;if(supportsTouch){var timeout,startX,startY,pointerMoved,point,numPointers;elem.on('touchstart'+ns,function(e){pointerMoved=false;numPointers=1;point=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];startX=point.clientX;startY=point.clientY;_window.on('touchmove'+ns,function(e){point=e.originalEvent?e.originalEvent.touches:e.touches;numPointers=point.length;point=point[0];if(Math.abs(point.clientX-startX)>10||Math.abs(point.clientY-startY)>10){pointerMoved=true;unbindTouchMove();}}).on('touchend'+ns,function(e){unbindTouchMove();if(pointerMoved||numPointers>1){return;}
lock=true;e.preventDefault();clearTimeout(timeout);timeout=setTimeout(function(){lock=false;},ghostClickDelay);callback();});});}
elem.on('click'+ns,function(){if(!lock){callback();}});});};$.fn.destroyMfpFastClick=function(){$(this).off('touchstart'+ns+' click'+ns);if(supportsTouch)_window.off('touchmove'+ns+' touchend'+ns);};})();_checkInstance();})(window.jQuery||window.Zepto);(function($){jQuery.fn.reverse=[].reverse;$.et_pb_simple_slider=function(el,options){var settings=$.extend({slide:'.et-slide',arrows:'.et-pb-slider-arrows',prev_arrow:'.et-pb-arrow-prev',next_arrow:'.et-pb-arrow-next',controls:'.et-pb-controllers a',control_active_class:'et-pb-active-control',previous_text:'Previous',next_text:'Next',fade_speed:500,use_arrows:true,use_controls:true,manual_arrows:'',append_controls_to:'',controls_class:'et-pb-controllers',slideshow:false,slideshow_speed:7000,show_progress_bar:false,tabs_animation:false},options);var $et_slider=$(el),$et_slide=$et_slider.find(settings.slide),et_slides_number=$et_slide.length,et_fade_speed=settings.fade_speed,et_active_slide=0,$et_slider_arrows,$et_slider_prev,$et_slider_next,$et_slider_controls,et_slider_timer,controls_html='',$progress_bar=null,progress_timer_count=0,$et_pb_container=$et_slider.find('.et_pb_container'),et_pb_container_width=$et_pb_container.width();$et_slider.et_animation_running=false;$.data(el,"et_pb_simple_slider",$et_slider);$et_slide.eq(0).addClass('et-pb-active-slide');if(!settings.tabs_animation){if(!$et_slider.hasClass('et_pb_bg_layout_dark')&&!$et_slider.hasClass('et_pb_bg_layout_light')){$et_slider.addClass(et_get_bg_layout_color($et_slide.eq(0)));}}
if(settings.use_arrows&&et_slides_number>1){if(settings.manual_arrows=='')
$et_slider.append('<div class="et-pb-slider-arrows"><a class="et-pb-arrow-prev" href="#">'+'<span>'+settings.previous_text+'</span>'+'</a><a class="et-pb-arrow-next" href="#">'+'<span>'+settings.next_text+'</span>'+'</a></div>');else
$et_slider.append(settings.manual_arrows);$et_slider_arrows=$(settings.arrows);$et_slider_prev=$et_slider.find(settings.prev_arrow);$et_slider_next=$et_slider.find(settings.next_arrow);$et_slider_next.click(function(){if($et_slider.et_animation_running)return false;$et_slider.et_slider_move_to('next');return false;});$et_slider_prev.click(function(){if($et_slider.et_animation_running)return false;$et_slider.et_slider_move_to('previous');return false;});}
if(settings.use_controls&&et_slides_number>1){for(var i=1;i<=et_slides_number;i++){controls_html+='<a href="#"'+(i==1?' class="'+settings.control_active_class+'"':'')+'>'+i+'</a>';}
controls_html='<div class="'+settings.controls_class+'">'+
controls_html+'</div>';if(settings.append_controls_to=='')
$et_slider.append(controls_html);else
$(settings.append_controls_to).append(controls_html);$et_slider_controls=$et_slider.find(settings.controls),$et_slider_controls.click(function(){if($et_slider.et_animation_running)return false;$et_slider.et_slider_move_to($(this).index());return false;});}
if(settings.slideshow&&et_slides_number>1){$et_slider.hover(function(){$et_slider.addClass('et_slider_hovered');if(typeof et_slider_timer!='undefined'){clearInterval(et_slider_timer);}},function(){$et_slider.removeClass('et_slider_hovered');et_slider_auto_rotate();});}
et_slider_auto_rotate();function et_slider_auto_rotate(){if(settings.slideshow&&et_slides_number>1&&!$et_slider.hasClass('et_slider_hovered')){et_slider_timer=setTimeout(function(){$et_slider.et_slider_move_to('next');},settings.slideshow_speed);}}
function et_fix_slider_content_images(){var $this_slider=$et_slider,$slide_image_container=$this_slider.find('.et-pb-active-slide .et_pb_slide_image');$slide=$slide_image_container.closest('.et_pb_slide'),$slider=$slide.closest('.et_pb_slider'),slide_height=$slider.innerHeight(),image_height=parseInt(slide_height*0.8);$slide_image_container.find('img').css('maxHeight',image_height+'px');if($slide.hasClass('et_pb_media_alignment_center')){$slide_image_container.css('marginTop','-'+parseInt($slide_image_container.height()/2)+'px');}}
function et_get_bg_layout_color($slide){if($slide.hasClass('et_pb_bg_layout_dark')){return'et_pb_bg_layout_dark';}
return'et_pb_bg_layout_light';}
$et_window.load(function(){et_fix_slider_content_images();});$et_window.resize(function(){if(et_pb_container_width!==$et_pb_container.width()){et_pb_container_width=$et_pb_container.width();et_fix_slider_content_images();}});$et_slider.et_slider_move_to=function(direction){var $active_slide=$et_slide.eq(et_active_slide),$next_slide;$et_slider.et_animation_running=true;if(direction=='next'||direction=='previous'){if(direction=='next')
et_active_slide=(et_active_slide+1)<et_slides_number?et_active_slide+1:0;else
et_active_slide=(et_active_slide-1)>=0?et_active_slide-1:et_slides_number-1;}else{if(et_active_slide==direction){$et_slider.et_animation_running=false;return;}
et_active_slide=direction;}
if(typeof et_slider_timer!='undefined')
clearInterval(et_slider_timer);$next_slide=$et_slide.eq(et_active_slide);$et_slide.each(function(){$(this).css('zIndex',1);});$active_slide.css('zIndex',2).removeClass('et-pb-active-slide');$next_slide.css({'display':'block',opacity:0}).addClass('et-pb-active-slide');et_fix_slider_content_images();if(settings.use_controls)
$et_slider_controls.removeClass(settings.control_active_class).eq(et_active_slide).addClass(settings.control_active_class);if(!settings.tabs_animation){$next_slide.animate({opacity:1},et_fade_speed);$active_slide.addClass('et_slide_transition').css({'display':'list-item','opacity':1}).animate({opacity:0},et_fade_speed,function(){var active_slide_layout_bg_color=et_get_bg_layout_color($active_slide),next_slide_layout_bg_color=et_get_bg_layout_color($next_slide);$(this).css('display','none').removeClass('et_slide_transition');$et_slider.removeClass(active_slide_layout_bg_color).addClass(next_slide_layout_bg_color);$et_slider.et_animation_running=false;});}else{$next_slide.css({'display':'none',opacity:0});$active_slide.addClass('et_slide_transition').css({'display':'block','opacity':1}).animate({opacity:0},et_fade_speed,function(){$(this).css('display','none').removeClass('et_slide_transition');$next_slide.css({'display':'block','opacity':0}).animate({opacity:1},et_fade_speed,function(){$et_slider.et_animation_running=false;});});}
et_slider_auto_rotate();}}
$.fn.et_pb_simple_slider=function(options){return this.each(function(){new $.et_pb_simple_slider(this,options);});}
var et_hash_module_seperator='||',et_hash_module_param_seperator='|';function process_et_hashchange(hash){if((hash.indexOf(et_hash_module_seperator,0))!==-1){modules=hash.split(et_hash_module_seperator);for(var i=0;i<modules.length;i++){var module_params=modules[i].split(et_hash_module_param_seperator);var element=module_params[0];module_params.shift();if($('#'+element).length){$('#'+element).trigger({type:"et_hashchange",params:module_params});}}}else{module_params=hash.split(et_hash_module_param_seperator);var element=module_params[0];module_params.shift();if($('#'+element).length){$('#'+element).trigger({type:"et_hashchange",params:module_params});}}}
function et_set_hash(module_state_hash){module_id=module_state_hash.split(et_hash_module_param_seperator)[0];if(!$('#'+module_id).length){return;}
if(window.location.hash){var hash=window.location.hash.substring(1),new_hash=[];if((hash.indexOf(et_hash_module_seperator,0))!==-1){modules=hash.split(et_hash_module_seperator);var in_hash=false;for(var i=0;i<modules.length;i++){var element=modules[i].split(et_hash_module_param_seperator)[0];if(element===module_id){new_hash.push(module_state_hash);in_hash=true;}else{new_hash.push(modules[i]);}}
if(!in_hash){new_hash.push(module_state_hash);}}else{module_params=hash.split(et_hash_module_param_seperator);var element=module_params[0];if(element!==module_id){new_hash.push(hash);}
new_hash.push(module_state_hash);}
hash=new_hash.join(et_hash_module_seperator);}else{hash=module_state_hash;}
var yScroll=document.body.scrollTop;window.location.hash=hash;document.body.scrollTop=yScroll;}
var $et_pb_slider=$('.et_pb_slider'),$et_pb_tabs=$('.et_pb_tabs'),$et_pb_tabs_li=$et_pb_tabs.find('.et_pb_tabs_controls li'),$et_pb_video_section=$('.et_pb_section_video_bg'),$et_pb_newsletter_button=$('.et_pb_newsletter_button'),$et_pb_filterable_portfolio=$('.et_pb_filterable_portfolio'),$et_pb_fullwidth_portfolio=$('.et_pb_fullwidth_portfolio'),$et_pb_gallery=$('.et_pb_gallery'),$et_pb_countdown_timer=$('.et_pb_countdown_timer'),$et_post_gallery=$('.et_post_gallery'),$et_lightbox_image=$('.et_pb_lightbox_image'),$et_pb_map=$('.et_pb_map_container'),$et_pb_circle_counter=$('.et_pb_circle_counter'),$et_pb_number_counter=$('.et_pb_number_counter'),$et_pb_parallax=$('.et_parallax_bg'),et_is_mobile_device=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/),et_is_ipad=navigator.userAgent.match(/iPad/),$et_container=$('.container'),et_container_width=$et_container.width(),et_is_fixed_nav=$('body').hasClass('et_fixed_nav'),$main_container_wrapper=$('#page-container'),$et_window=$(window),etRecalculateOffset=false,et_header_height,et_header_modifier,et_header_offset,et_primary_header_top;$(document).ready(function(){var $et_top_menu=$('ul.nav'),$et_search_icon=$('#et_search_icon');$et_top_menu.find('li').hover(function(){if(!$(this).closest('li.mega-menu').length||$(this).hasClass('mega-menu')){$(this).addClass('et-show-dropdown');$(this).removeClass('et-hover').addClass('et-hover');}},function(){var $this_el=$(this);$this_el.removeClass('et-show-dropdown');setTimeout(function(){if(!$this_el.hasClass('et-show-dropdown')){$this_el.removeClass('et-hover');}},200);});if($('ul.et_disable_top_tier').length){$("ul.et_disable_top_tier > li > ul").prev('a').attr('href','#');}
if(et_is_mobile_device){$('.et_pb_section_video_bg').each(function(){var $this_el=$(this);$this_el.css('visibility','hidden').closest('.et_pb_preload').removeClass('et_pb_preload')});$('body').addClass('et_mobile_device');if(!et_is_ipad){$('body').addClass('et_mobile_device_not_ipad');}}
$et_search_icon.click(function(){var $this_el=$(this),$form=$this_el.siblings('.et-search-form');if($form.hasClass('et-hidden')){$form.css({'display':'block','opacity':0}).animate({opacity:1},500);}else{$form.animate({opacity:0},500);}
$form.toggleClass('et-hidden');});if($et_pb_video_section.length){$et_pb_video_section.find('video').mediaelementplayer({pauseOtherPlayers:false,success:function(mediaElement,domObject){mediaElement.addEventListener('canplay',function(){et_pb_resize_section_video_bg($(domObject));et_pb_center_video($(domObject));});}});}
if($et_post_gallery.length){$et_post_gallery.magnificPopup({delegate:'a',type:'image',removalDelay:500,gallery:{enabled:true,navigateByImgClick:true},mainClass:'mfp-fade',zoom:{enabled:true,duration:500,opener:function(element){return element.find('img');}}});}
if($et_lightbox_image.length){$et_lightbox_image.magnificPopup({type:'image',removalDelay:500,mainClass:'mfp-fade',zoom:{enabled:true,duration:500,opener:function(element){return element.find('img');}}});}
if($et_pb_slider.length){$et_pb_slider.each(function(){var $this_slider=$(this),et_slider_settings={fade_speed:700,slide:'.et_pb_slide'}
if($this_slider.hasClass('et_pb_slider_no_arrows'))
et_slider_settings.use_arrows=false;if($this_slider.hasClass('et_pb_slider_no_pagination'))
et_slider_settings.use_controls=false;if($this_slider.hasClass('et_slider_auto')){var et_slider_autospeed_class_value=/et_slider_speed_(\d+)/g;et_slider_settings.slideshow=true;et_slider_autospeed=et_slider_autospeed_class_value.exec($this_slider.attr('class'));et_slider_settings.slideshow_speed=et_slider_autospeed[1];}
$this_slider.et_pb_simple_slider(et_slider_settings);$this_slider.find('.et_pb_slide_video').each(function(){var $this_el=$(this).find('iframe'),src_attr=$this_el.attr('src'),wmode_character=src_attr.indexOf('?')==-1?'?':'&amp;',this_src=src_attr+wmode_character+'wmode=opaque';$this_el.attr('src',this_src);});});}
if($et_pb_fullwidth_portfolio.length){function set_fullwidth_portfolio_columns($the_portfolio,carousel_mode){var columns,$portfolio_items=$the_portfolio.find('.et_pb_portfolio_items'),portfolio_items_width=$portfolio_items.width(),$the_portfolio_items=$portfolio_items.find('.et_pb_portfolio_item'),portfolio_item_count=$the_portfolio_items.length;if(portfolio_items_width>=1600){columns=5;}else if(portfolio_items_width>=1024){columns=4;}else if(portfolio_items_width>=768){columns=3;}else if(portfolio_items_width>=480){columns=2;}else{columns=1;}
portfolio_item_width=portfolio_items_width/columns;portfolio_item_height=portfolio_item_width*.75;if(carousel_mode){$portfolio_items.css({'height':portfolio_item_height});}
$the_portfolio_items.css({'height':portfolio_item_height});if(columns===$portfolio_items.data('columns')){return;}
if($the_portfolio.data('columns_setting_up')){return;}
$the_portfolio.data('columns_setting_up',true);var portfolio_item_width_percentage=(100/columns)+'%';$the_portfolio_items.css({'width':portfolio_item_width_percentage});$portfolio_items.removeClass('columns-'+$portfolio_items.data('columns'));$portfolio_items.addClass('columns-'+columns);$portfolio_items.data('columns',columns);if(!carousel_mode){return $the_portfolio.data('columns_setting_up',false);}
if($portfolio_items.find('.et_pb_carousel_group').length){$the_portfolio_items.appendTo($portfolio_items);$portfolio_items.find('.et_pb_carousel_group').remove();}
var the_portfolio_items=$portfolio_items.data('items'),$carousel_group=$('<div class="et_pb_carousel_group active">').appendTo($portfolio_items);$the_portfolio_items.data('position','');if(the_portfolio_items.length<=columns){$portfolio_items.find('.et-pb-slider-arrows').hide();}else{$portfolio_items.find('.et-pb-slider-arrows').show();}
for(position=1,x=0;x<the_portfolio_items.length;x++,position++){if(x<columns){$(the_portfolio_items[x]).show();$(the_portfolio_items[x]).appendTo($carousel_group);$(the_portfolio_items[x]).data('position',position);$(the_portfolio_items[x]).addClass('position_'+position);}else{position=$(the_portfolio_items[x]).data('position');$(the_portfolio_items[x]).removeClass('position_'+position);$(the_portfolio_items[x]).data('position','');$(the_portfolio_items[x]).hide();}}
$the_portfolio.data('columns_setting_up',false);}
function et_carousel_auto_rotate($carousel){if('on'===$carousel.data('auto-rotate')&&$carousel.find('.et_pb_portfolio_item').length>$carousel.find('.et_pb_carousel_group .et_pb_portfolio_item').length&&!$carousel.hasClass('et_carousel_hovered')){et_carousel_timer=setTimeout(function(){$carousel.find('.et-pb-arrow-next').click();},$carousel.data('auto-rotate-speed'));$carousel.data('et_carousel_timer',et_carousel_timer);}}
$et_pb_fullwidth_portfolio.each(function(){var $the_portfolio=$(this),$portfolio_items=$the_portfolio.find('.et_pb_portfolio_items');$portfolio_items.data('items',$portfolio_items.find('.et_pb_portfolio_item').toArray());$the_portfolio.data('columns_setting_up',false);if($the_portfolio.hasClass('et_pb_fullwidth_portfolio_carousel')){$portfolio_items.prepend('<div class="et-pb-slider-arrows"><a class="et-pb-arrow-prev" href="#">'+'<span>Previous</span>'+'</a><a class="et-pb-arrow-next" href="#">'+'<span>Next</span>'+'</a></div>');set_fullwidth_portfolio_columns($the_portfolio,true);et_carousel_auto_rotate($the_portfolio);$the_portfolio.hover(function(){$(this).addClass('et_carousel_hovered');if(typeof $(this).data('et_carousel_timer')!='undefined'){clearInterval($(this).data('et_carousel_timer'));}},function(){$(this).removeClass('et_carousel_hovered');et_carousel_auto_rotate($(this));});$the_portfolio.data('carouseling',false);$the_portfolio.on('click','.et-pb-slider-arrows a',function(e){var $the_portfolio=$(this).parents('.et_pb_fullwidth_portfolio'),$portfolio_items=$the_portfolio.find('.et_pb_portfolio_items'),$the_portfolio_items=$portfolio_items.find('.et_pb_portfolio_item'),$active_carousel_group=$portfolio_items.find('.et_pb_carousel_group.active'),slide_duration=700,items=$portfolio_items.data('items'),columns=$portfolio_items.data('columns'),item_width=$active_carousel_group.innerWidth()/columns,original_item_width=(100/columns)+'%';e.preventDefault();if($the_portfolio.data('carouseling')){return;}
$the_portfolio.data('carouseling',true);$active_carousel_group.children().each(function(){$(this).css({'width':$(this).innerWidth()+1,'position':'absolute','left':($(this).innerWidth()*($(this).data('position')-1))});});if($(this).hasClass('et-pb-arrow-next')){var $next_carousel_group,current_position=1,next_position=1,active_items_start=items.indexOf($active_carousel_group.children().first()[0]),active_items_end=active_items_start+columns,next_items_start=active_items_end,next_items_end=next_items_start+columns;$next_carousel_group=$('<div class="et_pb_carousel_group next" style="display: none;left: 100%;position: absolute;top: 0;">').insertAfter($active_carousel_group);$next_carousel_group.css({'width':$active_carousel_group.innerWidth()}).show();for(x=0,total=0;;x++,total++){if(total>=active_items_start&&total<active_items_end){$(items[x]).addClass('changing_position current_position current_position_'+current_position);$(items[x]).data('current_position',current_position);current_position++;}
if(total>=next_items_start&&total<next_items_end){$(items[x]).data('next_position',next_position);$(items[x]).addClass('changing_position next_position next_position_'+next_position);if(!$(items[x]).hasClass('current_position')){$(items[x]).addClass('container_append');}else{$(items[x]).clone(true).appendTo($active_carousel_group).hide().addClass('delayed_container_append_dup').attr('id',$(items[x]).attr('id')+'-dup');$(items[x]).addClass('delayed_container_append');}
next_position++;}
if(next_position>columns){break;}
if(x>=(items.length-1)){x=-1;}}
sorted=$portfolio_items.find('.container_append, .delayed_container_append_dup').sort(function(a,b){var el_a_position=parseInt($(a).data('next_position'));var el_b_position=parseInt($(b).data('next_position'));return(el_a_position<el_b_position)?-1:(el_a_position>el_b_position)?1:0;});$(sorted).show().appendTo($next_carousel_group);$next_carousel_group.children().each(function(){$(this).css({'width':item_width,'position':'absolute','left':(item_width*($(this).data('next_position')-1))});});$active_carousel_group.animate({left:'-100%'},{duration:slide_duration,complete:function(){$portfolio_items.find('.delayed_container_append').each(function(){$(this).css({'width':item_width,'position':'absolute','left':(item_width*($(this).data('next_position')-1))});$(this).appendTo($next_carousel_group);});$active_carousel_group.removeClass('active');$active_carousel_group.children().each(function(){position=$(this).data('position');current_position=$(this).data('current_position');$(this).removeClass('position_'+position+' '+'changing_position current_position current_position_'+current_position);$(this).data('position','');$(this).data('current_position','');$(this).hide();$(this).css({'position':'','width':'','left':''});$(this).appendTo($portfolio_items);});$active_carousel_group.remove();et_carousel_auto_rotate($the_portfolio);}});$next_carousel_group.addClass('active').css({'position':'absolute','top':0,left:'100%'});$next_carousel_group.animate({left:'0%'},{duration:slide_duration,complete:function(){setTimeout(function(){$next_carousel_group.removeClass('next').addClass('active').css({'position':'','width':'','top':'','left':''});$next_carousel_group.find('.delayed_container_append_dup').remove();$next_carousel_group.find('.changing_position').each(function(index){position=$(this).data('position');current_position=$(this).data('current_position');next_position=$(this).data('next_position');$(this).removeClass('container_append delayed_container_append position_'+position+' '+'changing_position current_position current_position_'+current_position+' next_position next_position_'+next_position);$(this).data('current_position','');$(this).data('next_position','');$(this).data('position',(index+1));});$next_carousel_group.children().css({'position':'','width':original_item_width,'left':''});$the_portfolio.data('carouseling',false);},100);}});}else{var $prev_carousel_group,current_position=columns,prev_position=columns,columns_span=columns-1,active_items_start=items.indexOf($active_carousel_group.children().last()[0]),active_items_end=active_items_start-columns_span,prev_items_start=active_items_end-1,prev_items_end=prev_items_start-columns_span;$prev_carousel_group=$('<div class="et_pb_carousel_group prev" style="display: none;left: 100%;position: absolute;top: 0;">').insertBefore($active_carousel_group);$prev_carousel_group.css({'left':'-'+$active_carousel_group.innerWidth(),'width':$active_carousel_group.innerWidth()}).show();for(x=(items.length-1),total=(items.length-1);;x--,total--){if(total<=active_items_start&&total>=active_items_end){$(items[x]).addClass('changing_position current_position current_position_'+current_position);$(items[x]).data('current_position',current_position);current_position--;}
if(total<=prev_items_start&&total>=prev_items_end){$(items[x]).data('prev_position',prev_position);$(items[x]).addClass('changing_position prev_position prev_position_'+prev_position);if(!$(items[x]).hasClass('current_position')){$(items[x]).addClass('container_append');}else{$(items[x]).clone(true).appendTo($active_carousel_group).addClass('delayed_container_append_dup').attr('id',$(items[x]).attr('id')+'-dup');$(items[x]).addClass('delayed_container_append');}
prev_position--;}
if(prev_position<=0){break;}
if(x==0){x=items.length;}}
sorted=$portfolio_items.find('.container_append, .delayed_container_append_dup').sort(function(a,b){var el_a_position=parseInt($(a).data('prev_position'));var el_b_position=parseInt($(b).data('prev_position'));return(el_a_position<el_b_position)?-1:(el_a_position>el_b_position)?1:0;});$(sorted).show().appendTo($prev_carousel_group);$prev_carousel_group.children().each(function(){$(this).css({'width':item_width,'position':'absolute','left':(item_width*($(this).data('prev_position')-1))});});$active_carousel_group.animate({left:'100%'},{duration:slide_duration,complete:function(){$portfolio_items.find('.delayed_container_append').reverse().each(function(){$(this).css({'width':item_width,'position':'absolute','left':(item_width*($(this).data('prev_position')-1))});$(this).prependTo($prev_carousel_group);});$active_carousel_group.removeClass('active');$active_carousel_group.children().each(function(){position=$(this).data('position');current_position=$(this).data('current_position');$(this).removeClass('position_'+position+' '+'changing_position current_position current_position_'+current_position);$(this).data('position','');$(this).data('current_position','');$(this).hide();$(this).css({'position':'','width':'','left':''});$(this).appendTo($portfolio_items);});$active_carousel_group.remove();}});$prev_carousel_group.addClass('active').css({'position':'absolute','top':0,left:'-100%'});$prev_carousel_group.animate({left:'0%'},{duration:slide_duration,complete:function(){setTimeout(function(){$prev_carousel_group.removeClass('prev').addClass('active').css({'position':'','width':'','top':'','left':''});$prev_carousel_group.find('.delayed_container_append_dup').remove();$prev_carousel_group.find('.changing_position').each(function(index){position=$(this).data('position');current_position=$(this).data('current_position');prev_position=$(this).data('prev_position');$(this).removeClass('container_append delayed_container_append position_'+position+' '+'changing_position current_position current_position_'+current_position+' prev_position prev_position_'+prev_position);$(this).data('current_position','');$(this).data('prev_position','');position=index+1;$(this).data('position',position);$(this).addClass('position_'+position);});$prev_carousel_group.children().css({'position':'','width':original_item_width,'left':''});$the_portfolio.data('carouseling',false);},100);}});}});}else{set_fullwidth_portfolio_columns($the_portfolio,false);}});}
if($et_pb_filterable_portfolio.length){$(window).load(function(){$et_pb_filterable_portfolio.each(function(){var $the_portfolio=$(this),$the_portfolio_items=$the_portfolio.find('.et_pb_portfolio_items');$the_portfolio_items.imagesLoaded(function(){$the_portfolio.show();$the_portfolio_items.masonry({itemSelector:'.et_pb_portfolio_item',columnWidth:$the_portfolio.find('.column_width').innerWidth(),gutter:$the_portfolio.find('.gutter_width').innerWidth(),transitionDuration:0});set_filterable_grid_items($the_portfolio);});$the_portfolio.on('click','.et_pb_portfolio_filter a',function(e){e.preventDefault();var category_slug=$(this).data('category-slug');$the_portfolio_items=$(this).parents('.et_pb_filterable_portfolio').find('.et_pb_portfolio_items');if('all'==category_slug){$the_portfolio.find('.et_pb_portfolio_filter a').removeClass('active');$the_portfolio.find('.et_pb_portfolio_filter_all a').addClass('active');$the_portfolio.find('.et_pb_portfolio_item').show();}else{$the_portfolio.find('.et_pb_portfolio_filter_all').removeClass('active');$the_portfolio.find('.et_pb_portfolio_filter a').removeClass('active');$the_portfolio.find('.et_pb_portfolio_filter_all a').removeClass('active');$(this).addClass('active');$the_portfolio_items.find('.et_pb_portfolio_item').hide();$the_portfolio_items.find('.et_pb_portfolio_item.project_category_'+$(this).data('category-slug')).show();}
set_filterable_grid_items($the_portfolio);setTimeout(function(){set_filterable_portfolio_hash($the_portfolio);},500);});$(this).on('et_hashchange',function(event){var params=event.params;$the_portfolio=$('#'+event.target.id);if(!$the_portfolio.find('.et_pb_portfolio_filter a[data-category-slug="'+params[0]+'"]').hasClass('active')){$the_portfolio.find('.et_pb_portfolio_filter a[data-category-slug="'+params[0]+'"]').click();}
if(params[1]){setTimeout(function(){if(!$the_portfolio.find('.et_pb_portofolio_pagination a.page-'+params[1]).hasClass('active')){$the_portfolio.find('.et_pb_portofolio_pagination a.page-'+params[1]).addClass('active').click();}},300);}});});});function set_filterable_grid_items($the_portfolio){var min_height=0,$the_portfolio_items=$the_portfolio.find('.et_pb_portfolio_items'),active_category=$the_portfolio.find('.et_pb_portfolio_filter > a.active').data('category-slug'),masonry_data=Masonry.data($the_portfolio_items[0]);$the_portfolio_items.masonry('option',{'columnWidth':$the_portfolio.find('.column_width').innerWidth(),'gutter':$the_portfolio.find('.gutter_width').innerWidth()});if(!$the_portfolio.hasClass('et_pb_filterable_portfolio_fullwidth')){$the_portfolio.find('.et_pb_portfolio_item').css({minHeight:'',height:''});$the_portfolio_items.masonry();if(masonry_data.cols>1){$the_portfolio.find('.et_pb_portfolio_item').css({minHeight:'',height:''});$the_portfolio.find('.et_pb_portfolio_item').each(function(){if($(this).outerHeight()>min_height)
min_height=parseInt($(this).outerHeight())+parseInt($(this).css('marginBottom').slice(0,-2))+parseInt($(this).css('marginTop').slice(0,-2));});$the_portfolio.find('.et_pb_portfolio_item').css({height:min_height,minHeight:min_height});}}
if('all'===active_category){$the_portfolio_visible_items=$the_portfolio.find('.et_pb_portfolio_item');}else{$the_portfolio_visible_items=$the_portfolio.find('.et_pb_portfolio_item.project_category_'+active_category);}
var visible_grid_items=$the_portfolio_visible_items.length,posts_number=$the_portfolio.data('posts-number'),pages=Math.ceil(visible_grid_items/posts_number);set_filterable_grid_pages($the_portfolio,pages);var visible_grid_items=0;var _page=1;$the_portfolio.find('.et_pb_portfolio_item').data('page','');$the_portfolio_visible_items.each(function(i){visible_grid_items++;if(0===parseInt(visible_grid_items%posts_number)){$(this).data('page',_page);_page++;}else{$(this).data('page',_page);}});$the_portfolio_visible_items.filter(function(){return $(this).data('page')==1;}).show();$the_portfolio_visible_items.filter(function(){return $(this).data('page')!=1;}).hide();$the_portfolio_items.masonry();}
function set_filterable_grid_pages($the_portfolio,pages){$pagination=$the_portfolio.find('.et_pb_portofolio_pagination');if(!$pagination.length){return;}
$pagination.html('<ul></ul>');if(pages<=1){return;}
$pagination_list=$pagination.children('ul');$pagination_list.append('<li class="prev" style="display:none;"><a href="#" data-page="prev" class="page-prev">Prev</a></li>');for(var page=1;page<=pages;page++){var first_page_class=page===1?' active':'',last_page_class=page===pages?' last-page':'',hidden_page_class=page>=5?' style="display:none;"':'';$pagination_list.append('<li'+hidden_page_class+' class="page page-'+page+'"><a href="#" data-page="'+page+'" class="page-'+page+first_page_class+last_page_class+'">'+page+'</a></li>');}
$pagination_list.append('<li class="next"><a href="#" data-page="next" class="page-next">Next</a></li>');}
$et_pb_filterable_portfolio.on('click','.et_pb_portofolio_pagination a',function(e){e.preventDefault();var to_page=$(this).data('page'),$the_portfolio=$(this).parents('.et_pb_filterable_portfolio'),$the_portfolio_items=$the_portfolio.find('.et_pb_portfolio_items');if($(this).hasClass('page-prev')){to_page=parseInt($(this).parents('ul').find('a.active').data('page'))-1;}else if($(this).hasClass('page-next')){to_page=parseInt($(this).parents('ul').find('a.active').data('page'))+1;}
$(this).parents('ul').find('a').removeClass('active');$(this).parents('ul').find('a.page-'+to_page).addClass('active');var current_index=$(this).parents('ul').find('a.page-'+to_page).parent().index(),total_pages=$(this).parents('ul').find('li.page').length;$(this).parent().nextUntil('.page-'+(current_index+3)).show();$(this).parent().prevUntil('.page-'+(current_index-3)).show();$(this).parents('ul').find('li.page').each(function(i){if(!$(this).hasClass('prev')&&!$(this).hasClass('next')){if(i<(current_index-3)){$(this).hide();}else if(i>(current_index+1)){$(this).hide();}else{$(this).show();}
if(total_pages-current_index<=2&&total_pages-i<=5){$(this).show();}else if(current_index<=3&&i<=4){$(this).show();}}});if(to_page>1){$(this).parents('ul').find('li.prev').show();}else{$(this).parents('ul').find('li.prev').hide();}
if($(this).parents('ul').find('a.active').hasClass('last-page')){$(this).parents('ul').find('li.next').hide();}else{$(this).parents('ul').find('li.next').show();}
$the_portfolio.find('.et_pb_portfolio_item').hide();$the_portfolio.find('.et_pb_portfolio_item').filter(function(index){return $(this).data('page')===to_page;}).show();$the_portfolio_items.masonry();setTimeout(function(){set_filterable_portfolio_hash($the_portfolio);},500);});function set_filterable_portfolio_hash($the_portfolio){if(!$the_portfolio.attr('id')){return;}
var this_portfolio_state=[];this_portfolio_state.push($the_portfolio.attr('id'));this_portfolio_state.push($the_portfolio.find('.et_pb_portfolio_filter > a.active').data('category-slug'));if($the_portfolio.find('.et_pb_portofolio_pagination a.active').length){this_portfolio_state.push($the_portfolio.find('.et_pb_portofolio_pagination a.active').data('page'));}else{this_portfolio_state.push(1);}
this_portfolio_state=this_portfolio_state.join(et_hash_module_param_seperator);et_set_hash(this_portfolio_state);}}
if($et_pb_gallery.length){function set_gallery_grid_items($the_gallery){var $the_gallery_items_container=$the_gallery.find('.et_pb_gallery_items'),$the_gallery_items=$the_gallery_items_container.find('.et_pb_gallery_item');var total_grid_items=$the_gallery_items.length,posts_number=$the_gallery_items_container.data('per_page'),pages=Math.ceil(total_grid_items/posts_number);$the_gallery_items_container.masonry('option',{'columnWidth':$the_gallery.find('.column_width').innerWidth(),'gutter':$the_gallery.find('.gutter_width').innerWidth()});set_gallery_grid_pages($the_gallery,pages);var total_grid_items=0;var _page=1;$the_gallery_items.data('page','');$the_gallery_items.each(function(i){total_grid_items++;if(0===parseInt(total_grid_items%posts_number)){$(this).data('page',_page);_page++;}else{$(this).data('page',_page);}});var visible_items=$the_gallery_items.filter(function(){return $(this).data('page')==1;}).show();$the_gallery_items.filter(function(){return $(this).data('page')!=1;}).hide();$the_gallery_items_container.masonry();}
function set_gallery_grid_pages($the_gallery,pages){$pagination=$the_gallery.find('.et_pb_gallery_pagination');if(!$pagination.length){return;}
$pagination.html('<ul></ul>');if(pages<=1){$pagination.hide();return;}
$pagination_list=$pagination.children('ul');$pagination_list.append('<li class="prev" style="display:none;"><a href="#" data-page="prev" class="page-prev">Prev</a></li>');for(var page=1;page<=pages;page++){var first_page_class=page===1?' active':'',last_page_class=page===pages?' last-page':'',hidden_page_class=page>=5?' style="display:none;"':'';$pagination_list.append('<li'+hidden_page_class+' class="page page-'+page+'"><a href="#" data-page="'+page+'" class="page-'+page+first_page_class+last_page_class+'">'+page+'</a></li>');}
$pagination_list.append('<li class="next"><a href="#" data-page="next" class="page-next">Next</a></li>');}
function set_gallery_hash($the_gallery){if(!$the_gallery.attr('id')){return;}
var this_gallery_state=[];this_gallery_state.push($the_gallery.attr('id'));if($the_gallery.find('.et_pb_gallery_pagination a.active').length){this_gallery_state.push($the_gallery.find('.et_pb_gallery_pagination a.active').data('page'));}else{this_gallery_state.push(1);}
this_gallery_state=this_gallery_state.join(et_hash_module_param_seperator);et_set_hash(this_gallery_state);}
$et_pb_gallery.each(function(){var $the_gallery=$(this);if($the_gallery.hasClass('et_pb_gallery_grid')){$the_gallery.imagesLoaded(function(){$the_gallery.show();$the_gallery.find('.et_pb_gallery_items').masonry({itemSelector:'.et_pb_gallery_item',columnWidth:$the_gallery.find('.column_width').innerWidth(),gutter:$the_gallery.find('.gutter_width').innerWidth(),transitionDuration:0});set_gallery_grid_items($the_gallery);});$the_gallery.on('et_hashchange',function(event){var params=event.params;$the_gallery=$('#'+event.target.id);if(page_to=params[0]){setTimeout(function(){if(!$the_gallery.find('.et_pb_gallery_pagination a.page-'+page_to).hasClass('active')){$the_gallery.find('.et_pb_gallery_pagination a.page-'+page_to).addClass('active').click();}},300);}});}else{$the_gallery.et_pb_simple_slider({fade_speed:700,slide:'.et_pb_gallery_item'});}});$et_pb_gallery.data('paginating',false);$et_pb_gallery.on('click','.et_pb_gallery_pagination a',function(e){e.preventDefault();var to_page=$(this).data('page'),$the_gallery=$(this).parents('.et_pb_gallery'),$the_gallery_items_container=$the_gallery.find('.et_pb_gallery_items'),$the_gallery_items=$the_gallery_items_container.find('.et_pb_gallery_item');if($the_gallery.data('paginating')){return;}
$the_gallery.data('paginating',true);if($(this).hasClass('page-prev')){to_page=parseInt($(this).parents('ul').find('a.active').data('page'))-1;}else if($(this).hasClass('page-next')){to_page=parseInt($(this).parents('ul').find('a.active').data('page'))+1;}
$(this).parents('ul').find('a').removeClass('active');$(this).parents('ul').find('a.page-'+to_page).addClass('active');var current_index=$(this).parents('ul').find('a.page-'+to_page).parent().index(),total_pages=$(this).parents('ul').find('li.page').length;$(this).parent().nextUntil('.page-'+(current_index+3)).show();$(this).parent().prevUntil('.page-'+(current_index-3)).show();$(this).parents('ul').find('li.page').each(function(i){if(!$(this).hasClass('prev')&&!$(this).hasClass('next')){if(i<(current_index-3)){$(this).hide();}else if(i>(current_index+1)){$(this).hide();}else{$(this).show();}
if(total_pages-current_index<=2&&total_pages-i<=5){$(this).show();}else if(current_index<=3&&i<=4){$(this).show();}}});if(to_page>1){$(this).parents('ul').find('li.prev').show();}else{$(this).parents('ul').find('li.prev').hide();}
if($(this).parents('ul').find('a.active').hasClass('last-page')){$(this).parents('ul').find('li.next').hide();}else{$(this).parents('ul').find('li.next').show();}
$the_gallery_items.hide();var visible_items=$the_gallery_items.filter(function(index){return $(this).data('page')===to_page;}).show();$the_gallery_items_container.masonry();$the_gallery.data('paginating',false);setTimeout(function(){set_gallery_hash($the_gallery);},100);});}
function et_countdown_timer(timer){var gmt_offset=(timer.data('gmt-offset')*100).toString();if(gmt_offset.indexOf('-1')){gmt_offset=-1*gmt_offset;gmt_offset=('0'+gmt_offset).slice(-4);gmt_offset='-'+gmt_offset;}else{gmt_offset=('0'+gmt_offset).slice(-4);}
var end_date=new Date(timer.data('end-date')+' GMT'+gmt_offset).getTime();var current_date=new Date(),month_names=["January","February","March","April","May","June","July","August","September","October","November","December"];current_date=(month_names[current_date.getMonth()])+' '+current_date.getDate()+' '+current_date.getFullYear()+' '+current_date.getHours()+':'+current_date.getMinutes()+':'+current_date.getSeconds()+' GMT'+gmt_offset;current_date=new Date(current_date).getTime();var seconds_left=(end_date-current_date)/1000;days=parseInt(seconds_left/86400);seconds_left=seconds_left%86400;hours=parseInt(seconds_left/3600);hours=hours>0?hours:0;seconds_left=seconds_left%3600;minutes=parseInt(seconds_left/60);minutes=minutes>0?minutes:0;seconds=parseInt(seconds_left%60);seconds=seconds>0?seconds:0;if(days==0){if(!timer.find('.days > .value').parent('.section').hasClass('zero')){timer.find('.days > .value').html('000').parent('.section').addClass('zero').next().addClass('zero');}}else{timer.find('.days > .value').html(('000'+days).slice(-3));}
if(days==0&&hours==0){if(!timer.find('.hours > .value').parent('.section').hasClass('zero')){timer.find('.hours > .value').html('00').parent('.section').addClass('zero').next().addClass('zero');}}else{timer.find('.hours > .value').html(('0'+hours).slice(-2));}
if(days==0&&hours==0&&minutes==0){if(!timer.find('.minutes > .value').parent('.section').hasClass('zero')){timer.find('.minutes > .value').html('00').parent('.section').addClass('zero').next().addClass('zero');}}else{timer.find('.minutes > .value').html(('0'+minutes).slice(-2));}
if(days==0&&hours==0&&minutes==0&&seconds==0){if(!timer.find('.seconds > .value').parent('.section').hasClass('zero')){timer.find('.seconds > .value').html('00').parent('.section').addClass('zero');}}else{timer.find('.seconds > .value').html(('0'+seconds).slice(-2));}}
function et_countdown_timer_labels(timer){if(timer.closest('.et_pb_column_3_8').length||timer.children('.et_pb_countdown_timer_container').width()<=250){timer.find('.hours .label').html(timer.find('.hours').data('short'));timer.find('.minutes .label').html(timer.find('.minutes').data('short'));timer.find('.seconds .label').html(timer.find('.seconds').data('short'));}}
if($et_pb_countdown_timer.length){$et_pb_countdown_timer.each(function(){var timer=$(this);et_countdown_timer_labels(timer);et_countdown_timer(timer);setInterval(function(){et_countdown_timer(timer);},1000);});}
if($et_pb_tabs.length){$et_pb_tabs.et_pb_simple_slider({use_controls:false,use_arrows:false,slide:'.et_pb_all_tabs > div',tabs_animation:true}).on('et_hashchange',function(event){var params=event.params;var $the_tabs=$('#'+event.target.id);var active_tab=params[0];if(!$the_tabs.find('.et_pb_tabs_controls li').eq(active_tab).hasClass('et_pb_tab_active')){$the_tabs.find('.et_pb_tabs_controls li').eq(active_tab).click();}});$et_pb_tabs_li.click(function(){var $this_el=$(this),$tabs_container=$this_el.closest('.et_pb_tabs').data('et_pb_simple_slider');if($tabs_container.et_animation_running)return false;$this_el.addClass('et_pb_tab_active').siblings().removeClass('et_pb_tab_active');$tabs_container.data('et_pb_simple_slider').et_slider_move_to($this_el.index());if($this_el.closest('.et_pb_tabs').attr('id')){var tab_state=[];tab_state.push($this_el.closest('.et_pb_tabs').attr('id'));tab_state.push($this_el.index());tab_state=tab_state.join(et_hash_module_param_seperator);et_set_hash(tab_state);}
return false;});}
if($et_pb_map.length){google.maps.event.addDomListener(window,'load',function(){$et_pb_map.each(function(){var $this_map_container=$(this);var $this_map=$this_map_container.children('.et_pb_map');$this_map_container.data('map',new google.maps.Map($this_map[0],{zoom:parseInt($this_map.data('zoom')),center:new google.maps.LatLng(parseFloat($this_map.data('center-lat')),parseFloat($this_map.data('center-lng'))),mapTypeId:google.maps.MapTypeId.ROADMAP}));$this_map_container.data('bounds',new google.maps.LatLngBounds());$this_map_container.find('.et_pb_map_pin').each(function(){var $this_marker=$(this),position=new google.maps.LatLng(parseFloat($this_marker.data('lat')),parseFloat($this_marker.data('lng')));$this_map_container.data('bounds').extend(position);var marker=new google.maps.Marker({position:position,map:$this_map_container.data('map'),title:$this_marker.data('title'),icon:{url:et_custom.images_uri+'/marker.png',size:new google.maps.Size(46,43),anchor:new google.maps.Point(16,43)},shape:{coord:[1,1,46,43],type:'rect'}});if($this_marker.find('.infowindow').length){var infowindow=new google.maps.InfoWindow({content:$this_marker.html()});google.maps.event.addListener(marker,'click',function(){infowindow.open($this_map_container.data('map'),marker);});}});setTimeout(function(){if(!$this_map_container.data('map').getBounds().contains($this_map_container.data('bounds').getNorthEast())||!$this_map_container.data('map').getBounds().contains($this_map_container.data('bounds').getSouthWest())){$this_map_container.data('map').fitBounds($this_map_container.data('bounds'));}},200);});});}
if($et_pb_circle_counter.length){function et_pb_circle_counter_init($the_counter,animate){$the_counter.easyPieChart({easing:'easeInOutCirc',animate:{duration:1800,enabled:true},size:$the_counter.width(),barColor:$the_counter.data('bar-bg-color'),trackColor:'#000000',trackAlpha:0.1,scaleColor:false,lineWidth:5,onStart:function(){$(this.el).find('.percent p').css({'visibility':'visible'});},onStep:function(from,to,percent){$(this.el).find('.percent-value').text(Math.round(percent));},onStop:function(from,to){$(this.el).find('.percent-value').text($(this.el).data('number-value'));}});$the_counter.data('easyPieChart').update($the_counter.data('number-value'));}
$et_pb_circle_counter.each(function(){var $the_counter=$(this);et_pb_circle_counter_init($the_counter,false);$the_counter.on('containerWidthChanged',function(event){$the_counter=$(event.target);$the_counter.find('canvas').remove();$the_counter.removeData('easyPieChart');et_pb_circle_counter_init($the_counter,true);});});}
if($et_pb_number_counter.length){$et_pb_number_counter.each(function(){var $this_counter=$(this);$this_counter.easyPieChart({easing:'easeInOutCirc',animate:{duration:1800,enabled:true},size:0,trackColor:false,scaleColor:false,lineWidth:0,onStart:function(){$(this.el).find('.percent p').css({'visibility':'visible'});},onStep:function(from,to,percent){$(this.el).find('.percent-value').text(Math.round(percent));},onStop:function(from,to){$(this.el).find('.percent-value').text($(this.el).data('number-value'));}});});}
function et_apply_parallax(){var $this=$(this),element_top=$this.offset().top,window_top=$et_window.scrollTop(),y_pos=(((window_top+$et_window.height())-element_top)*0.3),main_position;main_position='translate3d(0, '+y_pos+'px, 0px)';$this.find('.et_parallax_bg').css({'-webkit-transform':main_position,'-moz-transform':main_position,'-ms-transform':main_position,'transform':main_position});}
function et_parallax_set_height(){var $this=$(this),bg_height;bg_height=($et_window.height()*0.3+$this.innerHeight());$this.find('.et_parallax_bg').css({'height':bg_height});}
$('.et_pb_toggle_title').click(function(){var $this_heading=$(this),$module=$this_heading.closest('.et_pb_toggle'),$content=$module.find('.et_pb_toggle_content'),is_accordion=$module.closest('.et_pb_accordion').length,$accordion_active_toggle;if(is_accordion){if($module.hasClass('et_pb_toggle_open')){return false;}
$accordion_active_toggle=$module.siblings('.et_pb_toggle_open');}
$content.slideToggle(700,function(){if($module.hasClass('et_pb_toggle_close'))
$module.removeClass('et_pb_toggle_close').addClass('et_pb_toggle_open');else
$module.removeClass('et_pb_toggle_open').addClass('et_pb_toggle_close');});if(is_accordion){$accordion_active_toggle.find('.et_pb_toggle_content').slideToggle(700,function(){$accordion_active_toggle.removeClass('et_pb_toggle_open').addClass('et_pb_toggle_close');});}});var $et_contact_container=$('.et_pb_contact_form_container');if($et_contact_container.length){var $et_contact_form=$et_contact_container.find('form'),$et_contact_submit=$et_contact_container.find('input.et_pb_contact_submit'),$et_inputs=$et_contact_form.find('input[type=text],textarea'),et_email_reg=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/,et_contact_error=false,$et_contact_message=$et_contact_container.find('.et-pb-contact-message'),et_message='';$et_inputs.live('focus',function(){if($(this).val()===$(this).siblings('label').text())$(this).val("");}).live('blur',function(){if($(this).val()==="")$(this).val($(this).siblings('label').text());});$et_contact_form.on('submit',function(event){et_contact_error=false;et_message='<ul>';$et_inputs.removeClass('et_contact_error');$et_inputs.each(function(index,domEle){if($(domEle).val()===''||$(domEle).val()===$(this).siblings('label').text()){$(domEle).addClass('et_contact_error');et_contact_error=true;var default_value=$(this).siblings('label').text();if(default_value=='')default_value=et_custom.captcha;et_message+='<li>'+et_custom.fill+' '+default_value+' '+et_custom.field+'</li>';}
if(($(domEle).attr('id')=='et_contact_email')&&!et_email_reg.test($(domEle).val())){$(domEle).removeClass('et_contact_error').addClass('et_contact_error');et_contact_error=true;if(!et_email_reg.test($(domEle).val()))et_message+='<li>'+et_custom.invalid+'</li>';}});if(!et_contact_error){$href=$(this).attr('action');$et_contact_container.fadeTo('fast',0.2).load($href+' #'+$et_contact_form.closest('.et_pb_contact_form_container').attr('id'),$(this).serializeArray(),function(){$et_contact_container.fadeTo('fast',1);});}
et_message+='</ul>';if(et_message!='<ul></ul>')
$et_contact_message.html(et_message);event.preventDefault();});}
if($.fn.fitVids){$('.et_pb_slide_video').fitVids();$('#main-content').fitVids();}
function et_pb_resize_section_video_bg($video){$element=typeof $video!=='undefined'?$video.closest('.et_pb_section_video_bg'):$('.et_pb_section_video_bg');$element.each(function(){var $this_el=$(this),ratio=(typeof $this_el.attr('data-ratio')!=='undefined')?$this_el.attr('data-ratio'):$this_el.find('video').attr('width')/$this_el.find('video').attr('height'),$video_elements=$this_el.find('.mejs-video, video, object').css('margin',0),$container=$this_el.closest('.et_pb_section').length?$this_el.closest('.et_pb_section'):$this_el.closest('.et_pb_slides'),body_width=$container.width(),container_height=$container.innerHeight(),width,height;if(typeof $this_el.attr('data-ratio')=='undefined')
$this_el.attr('data-ratio',ratio);if(body_width/container_height<ratio){width=container_height*ratio;height=container_height;}else{width=body_width;height=body_width/ratio;}
$video_elements.width(width).height(height);});}
function et_pb_center_video($video){$element=typeof $video!=='undefined'?$video:$('.et_pb_section_video_bg .mejs-video');$element.each(function(){var $video_width=$(this).width()/2;var $video_width_negative=0-$video_width;$(this).css("margin-left",$video_width_negative);if(typeof $video!=='undefined'){if($video.closest('.et_pb_slider').length&&!$video.closest('.et_pb_first_video').length)
return false;setTimeout(function(){$(this).closest('.et_pb_preload').removeClass('et_pb_preload');},500);}});}
function et_calculate_header_values(){var $top_header=$('#top-header'),secondary_nav_height=$top_header.length&&$top_header.is(':visible')?$top_header.innerHeight():0,admin_bar_height=$('#wpadminbar').length?$('#wpadminbar').innerHeight():0;et_header_height=$('#main-header').innerHeight()+secondary_nav_height-1,et_header_modifier=et_header_height<=90?et_header_height-29:et_header_height-56,et_header_offset=et_header_modifier+admin_bar_height;et_primary_header_top=secondary_nav_height+admin_bar_height;}
function et_fix_slider_height(){if(!$et_pb_slider.length)return;$et_pb_slider.each(function(){var $slide=$(this).find('.et_pb_slide'),$slide_container=$slide.find('.et_pb_container'),max_height=0;$slide_container.css('min-height',0);$slide.each(function(){var $this_el=$(this),height=$this_el.innerHeight();if(max_height<height)
max_height=height;});$slide_container.css('min-height',max_height);});}
et_fix_slider_height();var $comment_form=$('#commentform');et_pb_form_placeholders_init($comment_form);et_pb_form_placeholders_init($('.et_pb_newsletter_form'));$comment_form.submit(function(){et_pb_remove_placeholder_text($comment_form);});function et_pb_form_placeholders_init($form){$form.find('input:text, textarea').each(function(index,domEle){var $et_current_input=jQuery(domEle),$et_comment_label=$et_current_input.siblings('label'),et_comment_label_value=$et_current_input.siblings('label').text();if($et_comment_label.length){$et_comment_label.hide();if($et_current_input.siblings('span.required')){et_comment_label_value+=$et_current_input.siblings('span.required').text();$et_current_input.siblings('span.required').hide();}
$et_current_input.val(et_comment_label_value);}}).bind('focus',function(){var et_label_text=jQuery(this).siblings('label').text();if(jQuery(this).siblings('span.required').length)et_label_text+=jQuery(this).siblings('span.required').text();if(jQuery(this).val()===et_label_text)jQuery(this).val("");}).bind('blur',function(){var et_label_text=jQuery(this).siblings('label').text();if(jQuery(this).siblings('span.required').length)et_label_text+=jQuery(this).siblings('span.required').text();if(jQuery(this).val()==="")jQuery(this).val(et_label_text);});}
function et_pb_remove_placeholder_text($form){$form.find('input:text, textarea').each(function(index,domEle){var $et_current_input=jQuery(domEle),$et_label=$et_current_input.siblings('label'),et_label_value=$et_current_input.siblings('label').text();if($et_label.length&&$et_label.is(':hidden')){if($et_label.text()==$et_current_input.val())
$et_current_input.val('');}});}
et_duplicate_menu($('#et-top-navigation ul.primary'),$('#et-top-navigation .mobile_nav'),'mobile_menu','et_mobile_menu');et_duplicate_menu($('.et_pb_fullwidth_menu ul.nav'),$('.et_pb_fullwidth_menu .mobile_nav'),'mobile_menu','et_mobile_menu');function et_duplicate_menu(menu,append_to,menu_id,menu_class){var $cloned_nav;menu.clone().attr('id',menu_id).removeClass().attr('class',menu_class).appendTo(append_to);$cloned_nav=append_to.find('> ul');$cloned_nav.find('.menu_slide').remove();$cloned_nav.find('li:first').addClass('et_first_mobile_item');append_to.click(function(){if($(this).hasClass('closed')){$(this).removeClass('closed').addClass('opened');$cloned_nav.slideDown(500);}else{$(this).removeClass('opened').addClass('closed');$cloned_nav.slideUp(500);}
return false;});append_to.find('a').click(function(event){event.stopPropagation();});}
if($('#et-secondary-nav').length){$('#et-top-navigation #mobile_menu').append($('#et-secondary-nav').clone().html());}
$et_pb_newsletter_button.click(function(event){if($(this).closest('.et_pb_login_form').length||$(this).closest('.et_pb_feedburner_form').length){return;}
event.preventDefault();var $newsletter_container=$(this).closest('.et_pb_newsletter'),$firstname=$newsletter_container.find('input[name="et_pb_signup_firstname"]'),$lastname=$newsletter_container.find('input[name="et_pb_signup_lastname"]'),$email=$newsletter_container.find('input[name="et_pb_signup_email"]'),list_id=$newsletter_container.find('input[name="et_pb_signup_list_id"]').val(),$result=$newsletter_container.find('.et_pb_newsletter_result').hide(),service=$(this).closest('.et_pb_newsletter_form').data('service')||'mailchimp';$firstname.removeClass('et_pb_signup_error');$lastname.removeClass('et_pb_signup_error');$email.removeClass('et_pb_signup_error');et_pb_remove_placeholder_text($(this).closest('.et_pb_newsletter_form'));if($firstname.val()==''||$email.val()==''||list_id===''){if($firstname.val()=='')$firstname.addClass('et_pb_signup_error');if($email.val()=='')$email.addClass('et_pb_signup_error');if($firstname.val()=='')
$firstname.val($firstname.siblings('.et_pb_contact_form_label').text());if($lastname.val()=='')
$lastname.val($lastname.siblings('.et_pb_contact_form_label').text());if($email.val()=='')
$email.val($email.siblings('.et_pb_contact_form_label').text());return;}
$.ajax({type:"POST",url:et_custom.ajaxurl,data:{action:'et_pb_submit_subscribe_form',et_load_nonce:et_custom.et_load_nonce,et_list_id:list_id,et_firstname:$firstname.val(),et_lastname:$lastname.val(),et_email:$email.val(),et_service:service},success:function(data){if(data){$newsletter_container.find('.et_pb_newsletter_form > p').hide();$result.html(data).show();}else{$result.html(et_custom.subscription_failed).show();}}});});function et_change_primary_nav_position(){var $body=$('body');if(!$body.hasClass('et_vertical_nav')&&($body.hasClass('et_fixed_nav'))){$('#main-header').css('top',et_primary_header_top);}}
$(window).resize(function(){var containerWidthChanged=et_container_width!==$et_container.width(),window_width=$et_window.width();et_pb_resize_section_video_bg();et_pb_center_video();et_fix_slider_height();if($('.et_pb_blog_grid').length)
$('.et_pb_blog_grid').masonry();if(et_is_fixed_nav&&containerWidthChanged){setTimeout(function(){var $top_header=$('#top-header'),secondary_nav_height=$top_header.length&&$top_header.is(':visible')?$top_header.innerHeight():0;$main_container_wrapper.css('paddingTop',$('#main-header').innerHeight()+secondary_nav_height-1);et_change_primary_nav_position();},200);}
if($('#wpadminbar').length&&et_is_fixed_nav&&window_width>=740&&window_width<=782){et_calculate_header_values();et_change_primary_nav_position();}
$et_pb_fullwidth_portfolio.each(function(){set_container_height=$(this).hasClass('et_pb_fullwidth_portfolio_carousel')?true:false;set_fullwidth_portfolio_columns($(this),set_container_height);});if(containerWidthChanged){$('.container-width-change-notify').trigger('containerWidthChanged');setTimeout(function(){$et_pb_filterable_portfolio.each(function(){set_filterable_grid_items($(this));});$et_pb_gallery.each(function(){if($(this).hasClass('et_pb_gallery_grid')){set_gallery_grid_items($(this));}});},100);et_container_width=$et_container.width();etRecalculateOffset=true;}});$(window).load(function(){if(et_is_fixed_nav){et_calculate_header_values();$main_container_wrapper.css('paddingTop',et_header_height-1);et_change_primary_nav_position();}
if($('.et_pb_blog_grid').length){$('.et_pb_blog_grid').masonry({itemSelector:'.et_pb_post'});}
setTimeout(function(){$('.et_pb_preload').removeClass('et_pb_preload');},500);if($.fn.hashchange){$(window).hashchange(function(){var hash=window.location.hash.substring(1);process_et_hashchange(hash);});$(window).hashchange();}
if($.fn.waypoint){$('.et_pb_counter_container, .et-waypoint').waypoint({offset:'75%',handler:function(){$(this).addClass('et-animated');}});if($('.et_pb_circle_counter').length){$('.et_pb_circle_counter').each(function(){var $this_counter=$(this);$this_counter.waypoint({offset:'65%',handler:function(){$this_counter.data('easyPieChart').update($this_counter.data('number-value'));}});});}
if($('.et_pb_number_counter').length){$('.et_pb_number_counter').each(function(){var $this_counter=$(this);$this_counter.waypoint({offset:'75%',handler:function(){$this_counter.data('easyPieChart').update($this_counter.data('number-value'));}});});}
if(et_is_fixed_nav){$('#main-content').waypoint({offset:function(){if(etRecalculateOffset){et_calculate_header_values();etRecalculateOffset=false;}
return et_header_offset;},handler:function(direction){if(direction==='down'){$('#main-header').addClass('et-fixed-header');}else{$('#main-header').removeClass('et-fixed-header');}}});}}
if($et_pb_parallax.length&&!et_is_mobile_device){$et_pb_parallax.each(function(){if($(this).hasClass('et_pb_parallax_css')){return;}
var $this_parent=$(this).parent();$.proxy(et_parallax_set_height,$this_parent)();$.proxy(et_apply_parallax,$this_parent)();$et_window.on('scroll',$.proxy(et_apply_parallax,$this_parent));$et_window.on('resize',$.proxy(et_parallax_set_height,$this_parent));$et_window.on('resize',$.proxy(et_apply_parallax,$this_parent));});}
if($('.et_pb_audio_module .mejs-audio').length||$('.et_audio_content .mejs-audio').length){$('.et_pb_audio_module .mejs-audio, .et_audio_content .mejs-audio').each(function(){$count_timer=$(this).find('div.mejs-currenttime-container').addClass('custom');$(this).find('.mejs-controls div.mejs-duration-container').replaceWith($count_timer);});}});});})(jQuery);